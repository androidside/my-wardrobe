@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

@plugin "tailwindcss-animate";

@layer base {
	:root {
		--radius: 0.5rem;
	}
}

@theme {
	--font-sans: system-ui, sans-serif;
	--font-serif: Georgia, serif;
	--font-mono: ui-monospace, SFMono-Regular, monospace;

	--radius-sm: calc(var(--radius) - 4px);
	--radius-md: calc(var(--radius) - 2px);
	--radius-lg: var(--radius);

	/* Shadcn UI colors - these map directly to bg-*, text-*, border-* utilities */
	--color-background: oklch(1 0 0);
	--color-foreground: oklch(0.145 0.007 256.85);
	--color-card: oklch(1 0 0);
	--color-card-foreground: oklch(0.145 0.007 256.85);
	--color-popover: oklch(1 0 0);
	--color-popover-foreground: oklch(0.145 0.007 256.85);
	--color-primary: oklch(0.211 0.024 256.85);
	--color-primary-foreground: oklch(0.985 0.003 264.53);
	--color-secondary: oklch(0.967 0.002 264.54);
	--color-secondary-foreground: oklch(0.211 0.024 256.85);
	--color-muted: oklch(0.967 0.002 264.54);
	--color-muted-foreground: oklch(0.543 0.016 255.51);
	--color-accent: oklch(0.967 0.002 264.54);
	--color-accent-foreground: oklch(0.211 0.024 256.85);
	--color-destructive: oklch(0.647 0.199 27.32);
	--color-destructive-foreground: oklch(0.985 0.003 264.53);
	--color-border: oklch(0.924 0.005 264.54);
	--color-input: oklch(0.924 0.005 264.54);
	--color-ring: oklch(0.145 0.007 256.85);
	--color-chart-1: oklch(0.667 0.155 32.84);
	--color-chart-2: oklch(0.494 0.092 200.35);
	--color-chart-3: oklch(0.358 0.057 236.62);
	--color-chart-4: oklch(0.758 0.124 88.34);
	--color-chart-5: oklch(0.746 0.155 42.84);

	--animate-accordion-down: accordion-down 0.2s ease-out;
	--animate-accordion-up: accordion-up 0.2s ease-out;

	@keyframes accordion-down {
		from {
			height: 0;
		}
		to {
			height: var(--radix-accordion-content-height);
		}
	}

	@keyframes accordion-up {
		from {
			height: var(--radix-accordion-content-height);
		}
		to {
			height: 0;
		}
	}
}

.dark {
	--color-background: oklch(0.145 0.007 256.85);
	--color-foreground: oklch(0.985 0.003 264.53);
	--color-card: oklch(0.145 0.007 256.85);
	--color-card-foreground: oklch(0.985 0.003 264.53);
	--color-popover: oklch(0.145 0.007 256.85);
	--color-popover-foreground: oklch(0.985 0.003 264.53);
	--color-primary: oklch(0.985 0.003 264.53);
	--color-primary-foreground: oklch(0.211 0.024 256.85);
	--color-secondary: oklch(0.278 0.014 256.85);
	--color-secondary-foreground: oklch(0.985 0.003 264.53);
	--color-muted: oklch(0.278 0.014 256.85);
	--color-muted-foreground: oklch(0.712 0.013 256.85);
	--color-accent: oklch(0.278 0.014 256.85);
	--color-accent-foreground: oklch(0.985 0.003 264.53);
	--color-destructive: oklch(0.432 0.156 27.32);
	--color-destructive-foreground: oklch(0.985 0.003 264.53);
	--color-border: oklch(0.278 0.014 256.85);
	--color-input: oklch(0.278 0.014 256.85);
	--color-ring: oklch(0.867 0.011 264.53);
	--color-chart-1: oklch(0.566 0.153 263.71);
	--color-chart-2: oklch(0.531 0.113 174.75);
	--color-chart-3: oklch(0.646 0.159 65.33);
	--color-chart-4: oklch(0.679 0.125 307.21);
	--color-chart-5: oklch(0.646 0.141 357.58);
}

@layer base {
	* {
		@apply border-border;
	}
	body {
		@apply bg-background text-foreground;
		margin: 0;
		min-height: 100vh;
	}
}

/* Mobile safe area support for devices with home indicators */
.safe-area-bottom {
	padding-bottom: env(safe-area-inset-bottom);
}

/* React Advanced Cropper fixes for fullscreen display */
.cropper {
	position: relative;
	height: 100%;
	width: 100%;
	background: #000;
}

/* Fix container sizing */
.advanced-cropper {
	height: 100% !important;
	width: 100% !important;
	background: #000 !important;
}

.advanced-cropper__wrapper {
	height: 100% !important;
	width: 100% !important;
	display: flex !important;
	align-items: center !important;
	justify-content: center !important;
}

.advanced-cropper__background {
	background: #000 !important;
}

/* Ensure image is visible and properly sized */
.advanced-cropper__image-wrapper {
	display: flex !important;
	align-items: center !important;
	justify-content: center !important;
	max-height: 100% !important;
	max-width: 100% !important;
}

.advanced-cropper__image {
	max-height: 90vh !important;
	max-width: 90vw !important;
	height: auto !important;
	width: auto !important;
	object-fit: contain !important;
	display: block !important;
}

.advanced-cropper__foreground {
	pointer-events: auto !important;
}

/* Style crop box */
.advanced-cropper__stencil {
	border: 2px solid rgba(255, 255, 255, 0.8) !important;
}

/* Make handles more visible and touch-friendly */
.advanced-cropper__handler {
	width: 20px !important;
	height: 20px !important;
	background: white !important;
	border: 2px solid #000 !important;
	border-radius: 50% !important;
	z-index: 10 !important;
}

/* Make edge handles visible */
.advanced-cropper__line {
	background: rgba(255, 255, 255, 0.5) !important;
	z-index: 10 !important;
}
